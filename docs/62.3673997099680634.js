"use strict";(self.webpackChunkInterviewMAite=self.webpackChunkInterviewMAite||[]).push([[62],{62:(Z,l,d)=>{d.r(l),d.d(l,{AdminModule:()=>C});var o=d(6814),u=d(3699),p=d(7394);const h=[{key:"PENDING",value:"Pending",class:"btn-outline-primary"},{key:"SHORTLISTED",value:"Shortlisted",class:"btn-outline-secondary"},{key:"ON_HOLD",value:"On Hold",class:"btn btn-outline-warning"},{key:"DELETED",value:"Deleted",class:"btn btn-outline-danger"},{key:"REJECTED",value:"Rejected",class:"btn btn-outline-dark"},{key:"SELECTED",value:"Selected",class:"btn-outline-success"}];var t=d(9468),m=d(9229),g=d(2984);function b(n,s){if(1&n&&(t.TgZ(0,"p")(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&n){const e=s.$implicit;t.xp6(2),t.hij("",e.question,":"),t.xp6(1),t.hij(" ",e.response," ")}}function v(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){const c=t.CHM(e).$implicit,y=t.oxw(2);return t.KtG(y.changeStatus(c))}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}function A(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"h6"),t._uU(3),t.qZA(),t.TgZ(4,"p")(5,"b"),t._uU(6,"Name:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"p")(9,"b"),t._uU(10,"Email:"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"p")(13,"b"),t._uU(14,"Mobile Number:"),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"p")(17,"b"),t._uU(18,"Date of Birth:"),t.qZA(),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"h6",3),t._uU(22,"Questionnaire:"),t.qZA(),t.YNc(23,b,4,2,"p",4),t.qZA(),t.TgZ(24,"div",5)(25,"div",6)(26,"button",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.deleteCandidate())}),t._uU(27," Delete Candidate "),t.qZA()(),t.TgZ(28,"div",6)(29,"div",8)(30,"button",9),t._uU(31),t.qZA(),t.TgZ(32,"div",10),t.YNc(33,v,2,1,"a",11),t.qZA()()(),t.TgZ(34,"div",6)(35,"button",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navigateToScreening())}),t._uU(36," Screening Link "),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.candidateDetails.applyingForPosition),t.xp6(4),t.AsE(" ",e.candidateDetails.firstName," ",e.candidateDetails.lastName," "),t.xp6(4),t.hij(" ",e.candidateDetails.email,""),t.xp6(4),t.hij(" ",e.candidateDetails.mobileNumber,""),t.xp6(4),t.hij(" ",t.lcZ(20,10,e.candidateDetails.dob),""),t.xp6(4),t.Q6J("ngForOf",e.questions),t.xp6(7),t.Q6J("ngClass",e.statusValue.class),t.xp6(1),t.hij(" ",e.statusValue.value," "),t.xp6(2),t.Q6J("ngForOf",e.statusMap)}}let r=(()=>{class n{constructor(e,i,a,c){this.toastr=e,this.router=i,this.activatedRoute=a,this.candidateService=c,this.subscription=new p.w0,this.candidateDetails={},this.questions=[],this.screeningLink="",this.status="",this.statusValue={},this.statusMap=h}ngOnInit(){this.activatedRoute.params.subscribe(e=>{e&&e.candidateID&&(this.candidateID=e.candidateID,this.getCandidateById(this.candidateID))})}getCandidateById(e){this.subscription.add(this.candidateService.getCandidateById(e).subscribe(i=>{this.candidateDetails=i,this.questions=i.questionnaire,this.status=i.status;const a=this.statusMap.find(c=>c.key===i.status);a&&(this.statusValue=a),this.screeningLink=window.location.origin+"/screening/"+i.id}))}deleteCandidate(){this.subscription.add(this.candidateService.deleteCandidateById(this.candidateID).subscribe(e=>{this.toastr.success("Candidate deleted successfully!","Successful!"),this.candidateService.parentFetchCandidate(!0)}))}changeStatus(e){this.subscription.add(this.candidateService.changeCandidateStatusById(this.candidateID,e.key).subscribe(i=>{this.status=e.key,this.statusValue=e,this.candidateService.parentFetchCandidate(!0),this.toastr.success("Candidate status updated successfully!","Successful!")}))}navigateToScreening(){window.open(this.screeningLink,"_blank")}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m._W),t.Y36(u.F0),t.Y36(u.gz),t.Y36(g.L))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-12","col-md-8"],[1,"mt-4"],[4,"ngFor","ngForOf"],[1,"col-12","col-md-4"],[1,"text-right","mb-3"],["type","button",1,"btn","btn-danger","btn-width",3,"click"],[1,"btn-group","dropleft"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","id","dropdownMenuButton",1,"btn","dropdown-toggle","btn-width",3,"ngClass"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-info","btn-width",3,"click"],[1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&t.YNc(0,A,37,12,"div",0),2&e&&t.Q6J("ngIf",null==i.candidateDetails?null:i.candidateDetails.id)},dependencies:[o.mk,o.sg,o.O5,o.uU],styles:[".btn-width[_ngcontent-%COMP%]{width:150px}"]}),n})();const f=[{path:"",component:r},{path:":candidateID",component:r}];let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(f),u.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[o.ez,_]}),n})()}}]);