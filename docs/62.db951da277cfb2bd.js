"use strict";(self.webpackChunkInterviewMAite=self.webpackChunkInterviewMAite||[]).push([[62],{62:(k,u,o)=>{o.r(u),o.d(u,{AdminModule:()=>y});var d=o(6814),l=o(2058),p=o(7394);const m=[{key:"PENDING",value:"Pending",class:"btn-outline-primary"},{key:"SHORTLISTED",value:"Shortlisted",class:"btn-outline-secondary"},{key:"ON_HOLD",value:"On Hold",class:"btn btn-outline-warning"},{key:"DELETED",value:"Deleted",class:"btn btn-outline-danger"},{key:"REJECTED",value:"Rejected",class:"btn btn-outline-dark"},{key:"SELECTED",value:"Selected",class:"btn-outline-success"}];var t=o(5879),g=o(9229),h=o(2984);function _(e,a){1&e&&t.GkF(0)}function b(e,a){1&e&&t.GkF(0)}function f(e,a){if(1&e&&(t.TgZ(0,"p",11)(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.hij("",n.question,":"),t.xp6(1),t.hij(" ",n.response," ")}}function v(e,a){if(1&e&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",2)(3,"div",4),t.YNc(4,_,1,0,"ng-container",5),t.qZA(),t.TgZ(5,"div",6)(6,"h5",7),t._uU(7),t.qZA(),t.TgZ(8,"p")(9,"b"),t._uU(10,"Name:"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"p")(13,"b"),t._uU(14,"Email:"),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"p")(17,"b"),t._uU(18,"Mobile Number:"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"p")(21,"b"),t._uU(22,"Date of Birth:"),t.qZA(),t._uU(23),t.ALo(24,"date"),t.qZA()(),t.TgZ(25,"div",8),t.YNc(26,b,1,0,"ng-container",5),t.qZA()()(),t.TgZ(27,"div",3)(28,"h5",9),t._uU(29,"Questionnaire:"),t.qZA(),t.YNc(30,f,4,2,"p",10),t.qZA()()),2&e){const n=t.oxw(),i=t.MAs(2);t.xp6(4),t.Q6J("ngTemplateOutlet",i),t.xp6(3),t.Oqu(n.candidateDetails.applyingForPosition),t.xp6(4),t.AsE(" ",n.candidateDetails.firstName," ",n.candidateDetails.lastName," "),t.xp6(4),t.hij(" ",n.candidateDetails.email,""),t.xp6(4),t.hij(" ",n.candidateDetails.mobileNumber,""),t.xp6(4),t.hij(" ",t.lcZ(24,9,n.candidateDetails.dob),""),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(4),t.Q6J("ngForOf",n.questions)}}function A(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"a",19),t.NdJ("click",function(){const c=t.CHM(n).$implicit,D=t.oxw(2);return t.KtG(D.changeStatus(c))}),t._uU(1),t.qZA()}if(2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.value," ")}}function C(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",12)(1,"button",20),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.deleteCandidate())}),t._uU(2," Delete Candidate "),t.qZA()()}}function x(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"button",14),t._uU(3),t.qZA(),t.TgZ(4,"div",15),t.YNc(5,A,2,1,"a",16),t.qZA()()(),t.YNc(6,C,3,0,"div",17),t.TgZ(7,"div",12)(8,"button",18),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.navigateToScreening())}),t._uU(9," Screening Link "),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngClass",n.statusValue.class),t.xp6(1),t.hij(" ",n.statusValue.value," "),t.xp6(2),t.Q6J("ngForOf",n.statusMap),t.xp6(1),t.Q6J("ngIf","DELETED"!==n.status)}}let r=(()=>{class e{constructor(n,i,s,c){this.toastr=n,this.router=i,this.activatedRoute=s,this.candidateService=c,this.subscription=new p.w0,this.candidateDetails={},this.questions=[],this.screeningLink="",this.status="",this.statusValue={},this.statusMap=m}ngOnInit(){this.activatedRoute.params.subscribe(n=>{n&&n.candidateID&&(this.candidateID=n.candidateID,this.getCandidateById(this.candidateID))})}getCandidateById(n){this.subscription.add(this.candidateService.getCandidateById(n).subscribe(i=>{this.candidateDetails=i,this.questions=i.questionnaire,this.status=i.status;const s=this.statusMap.find(c=>c.key===i.status);s&&(this.statusValue=s),this.screeningLink=window.location.origin+"/screening/"+i.id}))}deleteCandidate(){this.subscription.add(this.candidateService.deleteCandidateById(this.candidateID).subscribe(n=>{this.toastr.success("Candidate deleted successfully!","Successful!"),this.candidateService.parentFetchCandidate(!0)}))}changeStatus(n){this.subscription.add(this.candidateService.changeCandidateStatusById(this.candidateID,n.key).subscribe(i=>{this.status=n.key,this.statusValue=n,this.candidateService.parentFetchCandidate(!0),this.toastr.success("Candidate status updated successfully!","Successful!")}))}navigateToScreening(){window.open(this.screeningLink,"_blank")}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g._W),t.Y36(l.F0),t.Y36(l.gz),t.Y36(h.L))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:3,vars:1,consts:[["class","row",4,"ngIf"],["actionButton",""],[1,"row"],[1,"col-12"],[1,"col-12","d-block","d-sm-none","small-screen"],[4,"ngTemplateOutlet"],[1,"col-12","col-sm-8","mb-3"],[1,"mt-0"],[1,"col-12","col-sm-4","d-none","d-sm-block"],[1,"mt-1"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],[1,"text-right","mb-3"],[1,"btn-group","dropleft"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","id","dropdownMenuButton",1,"btn","dropdown-toggle","btn-width",3,"ngClass"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["class","text-right mb-3",4,"ngIf"],["type","button",1,"btn","btn-outline-info","btn-width",3,"click"],[1,"dropdown-item",3,"click"],["type","button",1,"btn","btn-danger","btn-width",3,"click"]],template:function(n,i){1&n&&(t.YNc(0,v,31,11,"div",0),t.YNc(1,x,10,4,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",null==i.candidateDetails?null:i.candidateDetails.id)},dependencies:[d.mk,d.sg,d.O5,d.tP,d.uU],styles:[".btn-width[_ngcontent-%COMP%]{width:150px}.small-screen[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:left!important}"]}),e})();const T=[{path:"",component:r},{path:":candidateID",component:r}];let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(T),l.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,Z]}),e})()}}]);